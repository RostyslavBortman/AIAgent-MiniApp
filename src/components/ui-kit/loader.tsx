import { Box, CircularProgressProps, keyframes } from '@mui/material';
import styled from '@emotion/styled';

import palette from '@/theme/palette';

type Props = {
  size?: number;
  isDisabled?: boolean;
  scrollRef?: (node?: Element | null) => void;
} & CircularProgressProps;

const Loader = ({ scrollRef, size = 41, isDisabled, ...props }: Props) => {
  const color = isDisabled ? palette.gray[400] : palette.text.tertiary;

  return (
    <Animation width={size} height={size} mx="auto" ref={scrollRef} {...props}>
      <svg
        width={size}
        height={size}
        viewBox="0 0 41 41"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M20.5 37.5C29.8888 37.5 37.5 29.8888 37.5 20.5C37.5 11.1112 29.8888 3.5 20.5 3.5C11.1112 3.5 3.5 11.1112 3.5 20.5C3.5 29.8888 11.1112 37.5 20.5 37.5ZM20.5 40.5C31.5457 40.5 40.5 31.5457 40.5 20.5C40.5 9.4543 31.5457 0.5 20.5 0.5C9.4543 0.5 0.5 9.4543 0.5 20.5C0.5 31.5457 9.4543 40.5 20.5 40.5Z"
          fill="#C1C2CF"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M33.5658 30.9889C33.5736 30.9884 33.5814 30.9879 33.5891 30.9875C33.7941 30.9767 33.9998 30.9955 34.1994 31.0458C34.2522 31.0591 34.3045 31.0747 34.3563 31.0924C34.5 31.1417 34.6395 31.2083 34.772 31.2929C34.8152 31.3205 34.8578 31.35 34.8995 31.3815C34.9375 31.4103 34.9742 31.4401 35.0095 31.4711C35.012 31.4732 35.0145 31.4754 35.0169 31.4776C35.0771 31.5308 35.1334 31.5872 35.1856 31.6461C35.268 31.7392 35.3402 31.8388 35.4018 31.9432C35.5 32.1095 35.5714 32.2879 35.6144 32.4713C35.62 32.4953 35.6251 32.5193 35.6298 32.5434C35.6385 32.5888 35.6455 32.6345 35.6508 32.6803C35.6556 32.7221 35.659 32.7641 35.6608 32.8061C35.6612 32.8149 35.6616 32.8236 35.6618 32.8323C35.6653 32.9483 35.6575 33.0644 35.638 33.179C35.5924 33.4479 35.4826 33.7086 35.3038 33.9392C35.2732 33.9787 35.2405 34.0174 35.2058 34.0551C35.1988 34.0627 35.1918 34.0702 35.1848 34.0778C35.1502 34.1152 35.1154 34.1525 35.0805 34.1897C35.0526 34.2195 35.0246 34.2491 34.9965 34.2787C34.9637 34.3131 34.9308 34.3475 34.8978 34.3817C34.8691 34.4115 34.8404 34.4411 34.8115 34.4707C34.5883 34.6994 34.3597 34.9226 34.1259 35.1402C34.074 35.1885 34.0219 35.2364 33.9695 35.2841C33.9541 35.2983 33.9385 35.3123 33.923 35.3264C33.6736 35.5522 33.4186 35.7716 33.1581 35.9846C33.0308 36.0886 32.9022 36.1912 32.7723 36.2921C32.7566 36.3043 32.7409 36.3164 32.7252 36.3286C32.4748 36.522 32.2197 36.7095 31.9601 36.891C31.8098 36.9961 31.6579 37.0993 31.5045 37.2003C31.4288 37.2502 31.3527 37.2996 31.2763 37.3485C31.0862 37.4701 30.8939 37.5885 30.6994 37.7038C30.6117 37.7559 30.5234 37.8072 30.4348 37.858C30.3634 37.8988 30.2918 37.9392 30.22 37.9792C30.1742 38.0047 30.1283 38.0299 30.0823 38.055C30.0487 38.0734 30.015 38.0916 29.9813 38.1098C29.5741 38.329 29.16 38.5338 28.7396 38.7238C28.7047 38.7396 28.6698 38.7553 28.6348 38.7709C28.212 38.9591 27.7829 39.1326 27.3485 39.2909C27.0243 39.4091 26.697 39.5188 26.3671 39.62C26.2946 39.6423 26.222 39.6642 26.1492 39.6856C25.7424 39.8054 25.3316 39.9122 24.9176 40.006C24.8429 40.0229 24.7681 40.0394 24.6932 40.0555C24.3934 40.1198 24.092 40.1772 23.7892 40.2277C23.6733 40.247 23.5573 40.2653 23.4411 40.2826C23.366 40.2937 23.2909 40.3044 23.2157 40.3148C23.0824 40.333 22.9489 40.35 22.8151 40.3655C22.6813 40.3811 22.5475 40.3954 22.4135 40.4082C22.3754 40.4119 22.3373 40.4155 22.2991 40.4189C21.8386 40.4605 21.3773 40.4861 20.9161 40.4957C20.8778 40.4965 20.8395 40.4971 20.8012 40.4977C20.3384 40.5047 19.8757 40.4956 19.4141 40.4705C19.0694 40.4517 18.7254 40.4241 18.3822 40.3876C18.3068 40.3795 18.2314 40.3711 18.1561 40.3622C17.7349 40.3125 17.3152 40.2494 16.8977 40.1729C16.8223 40.1591 16.747 40.1449 16.6718 40.1302C16.3709 40.0715 16.0712 40.0059 15.7729 39.9333C15.6588 39.9056 15.5449 39.8768 15.4312 39.847C15.3578 39.8278 15.2845 39.8081 15.2114 39.7881C15.0816 39.7525 14.9521 39.7156 14.823 39.6774C14.6939 39.6391 14.5652 39.5996 14.437 39.5588C14.4004 39.5472 14.364 39.5355 14.3276 39.5237C13.8877 39.381 13.4535 39.2232 13.0256 39.0508C12.99 39.0365 12.9546 39.0221 12.9191 39.0076C12.4908 38.8321 12.0689 38.6419 11.6543 38.4375C11.3447 38.2848 11.0392 38.1242 10.738 37.9558C10.6718 37.9187 10.6058 37.8813 10.54 37.8435C10.1723 37.6323 9.81114 37.4094 9.45721 37.175C9.39334 37.1327 9.32972 37.0901 9.26633 37.047C9.01268 36.8748 8.76284 36.6967 8.51702 36.5127C8.42301 36.4424 8.32958 36.3712 8.23675 36.2991C8.17683 36.2526 8.11717 36.2058 8.05775 36.1585C7.95241 36.0748 7.84786 35.99 7.74413 35.9041C7.6404 35.8182 7.53759 35.7313 7.43571 35.6434C7.4067 35.6184 7.37778 35.5933 7.34893 35.5681C7.00052 35.2641 6.6632 34.9484 6.33748 34.6217C6.31043 34.5946 6.28347 34.5674 6.25658 34.5401C5.93164 34.2105 5.61843 33.8698 5.31747 33.5189C5.09282 33.2569 4.875 32.9891 4.66422 32.7159C4.61788 32.6558 4.57188 32.5955 4.52622 32.5349C4.27104 32.1962 4.02656 31.8493 3.7932 31.4947C3.75109 31.4307 3.70935 31.3664 3.66796 31.302C3.50238 31.0439 3.34263 30.782 3.18887 30.5162C3.13006 30.4146 3.07213 30.3124 3.01508 30.2097C2.97826 30.1433 2.9418 30.0768 2.90571 30.01C2.84174 29.8917 2.77892 29.7726 2.71729 29.6529C2.65565 29.5331 2.59526 29.4128 2.53611 29.292C2.51927 29.2575 2.50253 29.2231 2.4859 29.1886C2.285 28.7721 2.09886 28.3492 1.92769 27.9209C1.91348 27.8853 1.89937 27.8497 1.88536 27.814C1.71609 27.3832 1.56192 26.9469 1.42308 26.5059C1.31945 26.1767 1.22435 25.8449 1.13789 25.5108C1.11888 25.4374 1.10029 25.3638 1.08212 25.2902C0.980549 24.8784 0.892047 24.4634 0.816792 24.0456C0.803212 23.9702 0.790066 23.8947 0.77735 23.8192C0.726471 23.5169 0.682512 23.2132 0.645539 22.9084C0.6314 22.7918 0.618281 22.6751 0.606188 22.5582C0.598382 22.4827 0.591004 22.4072 0.584054 22.3317C0.571731 22.1977 0.560755 22.0635 0.551131 21.9292C0.541507 21.7948 0.533244 21.6605 0.526341 21.5261C0.524376 21.4878 0.522521 21.4496 0.520776 21.4113C0.499703 20.9494 0.494684 20.4874 0.505612 20.0262C0.506519 19.9879 0.507537 19.9496 0.508664 19.9114C0.522287 19.4487 0.551961 18.9869 0.597576 18.5268C0.631625 18.1834 0.674555 17.8409 0.726324 17.4997C0.737705 17.4247 0.749513 17.3498 0.761748 17.2749C0.830133 16.8564 0.911847 16.4399 1.0068 16.0261C1.02394 15.9515 1.0415 15.8769 1.0595 15.8024C1.09335 15.6624 1.12873 15.5226 1.16563 15.3832C1.23723 15.1126 1.31456 14.8434 1.39759 14.5756C1.42006 14.5032 1.44295 14.4309 1.46625 14.3586C1.50757 14.2306 1.55019 14.1029 1.59413 13.9756C1.59749 13.9658 1.60086 13.9561 1.60423 13.9464C1.63432 13.8596 1.66499 13.7731 1.69625 13.6868C1.83553 13.3024 1.9864 12.9229 2.14856 12.5486C2.18506 12.4644 2.22213 12.3804 2.25977 12.2967C2.39783 11.9897 2.54355 11.6864 2.69675 11.3871C2.7717 11.2407 2.84844 11.0952 2.92695 10.9508C2.93643 10.9333 2.94594 10.9159 2.95547 10.8985C3.03312 10.7566 3.11249 10.6156 3.19356 10.4757C3.27115 10.3417 3.35029 10.2087 3.43097 10.0765C3.52664 9.91988 3.62447 9.76453 3.72443 9.61053C3.81463 9.47158 3.90656 9.33374 4.00021 9.19703C4.03524 9.1459 4.0705 9.09493 4.10601 9.04411C4.12969 9.01023 4.15347 8.97643 4.17735 8.94269C4.20483 8.90389 4.23244 8.86517 4.2602 8.82656C4.31977 8.74368 4.37999 8.66125 4.44085 8.57926C4.47139 8.53812 4.50328 8.49881 4.53642 8.46133C4.5579 8.43704 4.5799 8.41351 4.60239 8.39076C4.62025 8.37268 4.63842 8.35509 4.65689 8.33799C4.76523 8.23762 4.88373 8.15387 5.00931 8.08665C5.1813 7.99458 5.36656 7.93352 5.55714 7.90323C5.6073 7.89526 5.65784 7.88942 5.7086 7.88571C5.76734 7.88142 5.82638 7.87998 5.8855 7.88138C5.89721 7.88165 5.90892 7.88204 5.92063 7.88254C6.1071 7.89051 6.29388 7.92674 6.47393 7.99103C6.58983 8.03241 6.70294 8.08541 6.81139 8.14999C6.879 8.19025 6.9448 8.23501 7.00834 8.28425C7.04802 8.315 7.08682 8.3475 7.12462 8.38175C7.16334 8.41684 7.20031 8.45311 7.23552 8.49048C7.24031 8.49556 7.24507 8.50066 7.24979 8.50578C7.35142 8.61594 7.43806 8.73532 7.50993 8.86148C7.53612 8.90744 7.56035 8.95431 7.58263 9.00195C7.63167 9.10684 7.67127 9.2155 7.70153 9.32671C7.72759 9.42246 7.74673 9.52008 7.75902 9.61879C7.76387 9.65773 7.76766 9.69684 7.77039 9.73607C7.77394 9.78731 7.77569 9.83875 7.77564 9.89028C7.77563 9.89525 7.77561 9.90022 7.77557 9.90519C7.77473 10.0143 7.76582 10.1238 7.74895 10.2325C7.71339 10.4618 7.64245 10.6881 7.53701 10.9017C7.50643 10.9637 7.47293 11.0246 7.43656 11.0841C7.4097 11.1281 7.38127 11.1714 7.35128 11.2139C7.3263 11.2492 7.30147 11.2847 7.27678 11.3203C7.26305 11.34 7.24936 11.3599 7.23572 11.3797C7.23094 11.3867 7.22616 11.3936 7.22138 11.4006C7.20111 11.4302 7.18093 11.4598 7.16086 11.4895C7.01114 11.7112 6.867 11.9365 6.72857 12.1652C6.69754 12.2165 6.66681 12.2679 6.63636 12.3195C6.5801 12.4148 6.52483 12.5108 6.47055 12.6073C6.45765 12.6302 6.44481 12.6531 6.43202 12.6761C6.30667 12.9015 6.18671 13.13 6.07226 13.3613C6.02511 13.4566 5.97889 13.5524 5.93362 13.6486C5.88418 13.7537 5.83586 13.8594 5.78868 13.9656C5.78024 13.9846 5.77182 14.0037 5.76345 14.0227C5.66018 14.2577 5.56247 14.4952 5.4704 14.7353C5.43233 14.8345 5.39523 14.9342 5.35911 15.0343C5.33337 15.1055 5.30813 15.177 5.28339 15.2487C5.26984 15.288 5.25646 15.3273 5.24322 15.3666C5.2219 15.43 5.20098 15.4935 5.18047 15.557C5.11568 15.7578 5.05489 15.9597 4.99813 16.1626C4.93813 16.3771 4.88262 16.5926 4.83162 16.8091C4.8163 16.8741 4.80138 16.9393 4.78687 17.0045C4.68944 17.4425 4.61041 17.8842 4.54993 18.3283C4.54279 18.3807 4.53591 18.4332 4.52929 18.4857C4.51904 18.567 4.50942 18.6483 4.50041 18.7297C4.46012 19.0938 4.43225 19.4594 4.41689 19.8259C4.41129 19.9594 4.40736 20.093 4.40509 20.2267C4.40483 20.2417 4.4046 20.2568 4.40439 20.2718C4.39941 20.6229 4.40591 20.9744 4.42397 21.3259C4.42952 21.434 4.43617 21.5422 4.44392 21.6503C4.44581 21.6767 4.44777 21.7031 4.44979 21.7294C4.45094 21.7444 4.45211 21.7595 4.4533 21.7745C4.45859 21.8411 4.4643 21.9077 4.47042 21.9742C4.51017 22.4064 4.56733 22.8363 4.6416 23.2626C4.65308 23.3285 4.66496 23.3943 4.67725 23.4599C4.75975 23.901 4.86062 24.3382 4.97954 24.7704C4.99358 24.8214 5.00787 24.8723 5.02241 24.9232C5.04491 25.0019 5.068 25.0805 5.0917 25.1589C5.19775 25.5096 5.31578 25.8567 5.44563 26.1997C5.49295 26.3247 5.54183 26.4491 5.59227 26.5729C5.59795 26.5869 5.60365 26.6008 5.60937 26.6147C5.74273 26.9395 5.88684 27.2602 6.04155 27.5763C6.08916 27.6736 6.13777 27.7704 6.18738 27.8668C6.19948 27.8903 6.21165 27.9138 6.22387 27.9373C6.23083 27.9506 6.2378 27.964 6.2448 27.9773C6.27585 28.0365 6.30727 28.0955 6.33903 28.1543C6.54542 28.5361 6.76687 28.9089 7.00271 29.2718C7.03913 29.3278 7.0759 29.3836 7.11301 29.4392C7.36218 29.8123 7.62672 30.1747 7.9059 30.5254C7.93886 30.5668 7.97202 30.6081 8.00539 30.6492C8.05701 30.7127 8.10912 30.7759 8.16171 30.8386C8.39704 31.1195 8.64198 31.3923 8.89616 31.6567C8.98877 31.753 9.08261 31.8482 9.17765 31.9422C9.18835 31.9528 9.19907 31.9634 9.2098 31.974C9.46004 32.2202 9.71858 32.4585 9.98505 32.6884C10.0671 32.7591 10.1498 32.8291 10.2333 32.8982C10.2537 32.9151 10.2741 32.9319 10.2945 32.9487C10.3062 32.9582 10.3178 32.9677 10.3295 32.9773C10.3813 33.0195 10.4334 33.0614 10.4857 33.103C10.8255 33.373 11.1756 33.6288 11.5351 33.8698C11.5906 33.907 11.6464 33.9439 11.7023 33.9804C12.0781 34.2256 12.4637 34.4549 12.8583 34.6677C12.9048 34.6928 12.9515 34.7177 12.9984 34.7424C13.0708 34.7806 13.1435 34.8182 13.2166 34.8552C13.5433 35.021 13.8758 35.1757 14.2134 35.3189C14.3364 35.3711 14.4601 35.4217 14.5844 35.4709C14.5984 35.4764 14.6125 35.4819 14.6265 35.4874C14.9533 35.6155 15.2847 35.733 15.6201 35.8397C15.7233 35.8725 15.8269 35.9044 15.9308 35.9351C15.9562 35.9426 15.9816 35.9501 16.007 35.9575C16.0214 35.9617 16.0359 35.9658 16.0503 35.97C16.1146 35.9885 16.1789 36.0066 16.2434 36.0242C16.662 36.139 17.0844 36.2366 17.5097 36.317C17.5754 36.3295 17.6411 36.3415 17.7069 36.3531C18.1488 36.4309 18.5935 36.4902 19.0399 36.5309C19.0926 36.5357 19.1454 36.5402 19.1981 36.5445C19.2797 36.5511 19.3614 36.5571 19.4431 36.5625C19.8087 36.5865 20.1752 36.5981 20.5419 36.5972C20.6755 36.5968 20.8092 36.5948 20.9429 36.5911C20.9579 36.5907 20.973 36.5903 20.988 36.5898C21.3389 36.5792 21.6898 36.557 22.0401 36.5234C22.1479 36.513 22.2557 36.5016 22.3633 36.489C22.3896 36.4859 22.4159 36.4828 22.4422 36.4796C22.4571 36.4778 22.472 36.476 22.487 36.4741C22.5533 36.4659 22.6196 36.4572 22.6858 36.4481C23.1158 36.3892 23.5427 36.313 23.9653 36.2198C24.0306 36.2054 24.0958 36.1906 24.1608 36.1754C24.5978 36.0734 25.03 35.9532 25.4565 35.8151C25.5069 35.7988 25.5571 35.7823 25.6073 35.7655C25.685 35.7395 25.7624 35.713 25.8397 35.6858C26.1722 35.5689 26.501 35.441 26.8254 35.3024C26.8382 35.2969 26.851 35.2914 26.8637 35.2859C26.9865 35.2331 27.1086 35.1787 27.23 35.1228C27.551 34.9751 27.8675 34.8166 28.1788 34.6477C28.19 34.6416 28.2012 34.6355 28.2124 34.6294C28.3075 34.5775 28.4021 34.5246 28.4961 34.4708C28.5191 34.4576 28.542 34.4444 28.5649 34.4312C28.6077 34.4064 28.6503 34.3815 28.6928 34.3564C28.9541 34.2019 29.2108 34.0401 29.4624 33.8715C29.5122 33.8381 29.5618 33.8045 29.6112 33.7705C29.7241 33.693 29.8361 33.614 29.947 33.5336C30.1058 33.4185 30.2625 33.3005 30.4169 33.1797C30.4657 33.1416 30.5142 33.1032 30.5625 33.0645C30.6455 32.998 30.7278 32.9307 30.8095 32.8626C30.9147 32.7749 31.0188 32.6858 31.1218 32.5954C31.2683 32.4667 31.4126 32.3353 31.5544 32.2013C31.5993 32.1589 31.6439 32.1162 31.6884 32.0733C31.739 32.0243 31.7894 31.975 31.8394 31.9254C31.8648 31.9001 31.8902 31.8747 31.9155 31.8493C31.9215 31.8433 31.9274 31.8373 31.9334 31.8313C31.9808 31.7835 32.0279 31.7353 32.0747 31.6869C32.1109 31.6495 32.1481 31.6135 32.1863 31.5789C32.2721 31.5013 32.3628 31.4308 32.4575 31.3676C32.5347 31.3162 32.6145 31.2697 32.6964 31.2283C32.7537 31.1993 32.812 31.1728 32.8712 31.1488C33.0091 31.0928 33.1516 31.0508 33.296 31.0232C33.3466 31.0135 33.3975 31.0057 33.4485 30.9996C33.4875 30.995 33.5267 30.9914 33.5658 30.9889Z"
          fill={color}
        />
      </svg>
    </Animation>
  );
};

const Animation = styled(Box)(() => ({
  animation: `${loaderAnimation} 0.8s linear infinite`,
}));

const loaderAnimation = keyframes`
  to {
    transform: rotate(360deg);
  }
`;

export default Loader;
